<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>GeneralMsgProcessor.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCo Ant Example</a> &gt; <a href="index.source.html" class="el_package">client.network</a> &gt; <span class="el_source">GeneralMsgProcessor.java</span></div><h1>GeneralMsgProcessor.java</h1><pre class="source lang-java linenums">package client.network;

import messages.Message;

/**
 * @deprecated
 * @author andi
 *
 */
<span class="fc" id="L10">public class GeneralMsgProcessor implements MsgProcessor {</span>

	@Override
	public void processMsg(Message msg) {
		// TODO Auto-generated method stub
		
<span class="fc" id="L16">	}</span>

//	private Player remotePlayer;
//
//	private int id;
//	
//	private BomberClient bomberClient;
//
//	private ClientGameRound clientGame;
//	
//	private static final Logger logger = Logger.getLogger(GeneralMsgProcessor.class);
//	
//	/**
//	 * @param bomberClient
//	 */
//	public GeneralMsgProcessor(BomberClient bomberClient) {
//		super();
//		this.bomberClient = bomberClient;
//	}
//
//
//
//
//	public void processMsg(Message msg) {
//		if (PlayerJoinedMsg.class.isInstance(msg)) {
//			PlayerJoinedMsg joinMsg = (PlayerJoinedMsg) msg;
//			id = joinMsg.getIdOffset();
//			System.out.println(&quot;Got id: &quot; + id);
//			System.out.println(&quot;Waiting for other players&quot;);
//		}
//		
//		//TODO Preliminary &quot;game starter&quot;, ugly as hell
//		if (InitializeRoundMsg.class.isInstance(msg)) {
//			InitializeRoundMsg startMsg = (InitializeRoundMsg) msg;
////			GameWindow gameWindow = new GameWindow(true); // uncomment for fullscreen mode
//			GameWindow gameWindow = new GameWindow(false); // comment for fullscreen mode
//			clientGame = new ClientGameRound(gameWindow.getGameCanvas());
//			clientGame.setMap(new Map(&quot;resources/map/map.xml&quot;));
//			ForwardingObserver observer = new ForwardingObserver(bomberClient);
//			System.out.printf(&quot;Adding %d players\n&quot;, startMsg.getPlayers().size());
//			for (Player player : startMsg.getPlayers()) {
//				ClientPlayer clientPlayer = new ClientPlayer(player.getPosition());
//				int idOffset = player.getId();
//				clientPlayer.setId(idOffset);
//				BomberClient.setIdOffset(idOffset);
////				clientPlayer.move(player.getMoveVector());
//				if (!(player.getId() == id)) {
//					System.out.println(&quot;Adding remote control for player &quot; + player.getId());
//					clientPlayer.setRemote(true);
//					RemoteControl remoteControl = new RemoteControl(clientPlayer);
//					bomberClient.addMsgProcessor(remoteControl);
//				}else{
//					System.out.println(&quot;Adding keyboard control for player &quot; + player.getId());
//					LocalControl localControl = new LocalControl(clientPlayer);
//					clientGame.setLocalControl(localControl);
//					gameWindow.addGameKeyListener(localControl);
//					clientPlayer.addObserver(observer);
//				}
//				
//				clientGame.addPlayer(clientPlayer.getId(), clientPlayer);
//				
//			}
//			
//			// uncomment for fullscreen mode
////			GraphicsDevice g = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();
////			g.setFullScreenWindow(gameWindow);
////			g.setDisplayMode(new DisplayMode(800,600,32,60));
//			
//			
//			System.out.println(&quot;Starting game&quot;);
//			clientGame.start();
//		} else if (PlayerStateMsg.class.isInstance(msg)) {
//			//
//		} else if(NewBombMsg.class.isInstance(msg)){
//			NewBombMsg bombMsg = (NewBombMsg) msg;
//			Point bombPos = new Point(bombMsg.getPosition()[0],bombMsg.getPosition()[1]);
//			Bomb bomb = new Bomb(bombPos, clientGame.getGameObjectById(bombMsg.getPlanterId()));
//			int id = bombMsg.getBombID();
//			bomb.setId(id);
//			clientGame.addBomb(id, bomb);
//		} else if (BombExplodedMsg.class.isInstance(msg)) {
//			BombExplodedMsg expl = (BombExplodedMsg) msg;
//			Bomb bomb = (Bomb) clientGame.getGameObjectById(expl.getBombID());
//			logger.info(&quot;Received BombExplodedMsg! Bomb id:&quot; + expl.getBombID());
//			for (int id : expl.getPlayerHits()) {
//				Player player = (Player) clientGame.getGameObjectById(id);
//				player.die();
//			}
//			for (int id : expl.getTileHits()) {
//				Tile tile = (Tile) clientGame.getGameObjectById(id);
//				tile.destroy();
//			}
//			bomb.explode();
//		}
//
//	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.2.201405220205</span></div></body></html>